
<h1>Select AI Difficulty</h1>

<style>
  .selected {
    background-color: #4CAF50;
    color: white;
  }
</style>

<!-- Difficulty buttons -->
<div id="difficultySelect">
  <button id="easyBtn" onclick="selectDifficulty('easy')">Easy</button>
  <button id="mediumBtn" onclick="selectDifficulty('medium')">Medium</button>
  <button id="hardBtn" onclick="selectDifficulty('hard')">Hard</button>
</div>

<h2>Who Starts?</h2>

<!-- Starter buttons -->
<div id="starterSelect">
  <button id="playerBtn" onclick="selectStarter('player')">Player 1</button>
  <button id="computerBtn" onclick="selectStarter('computer')">Computer</button>
  <button id="randomBtn" onclick="selectStarter('random')">Random</button>
</div>

<!-- Start button -->
<button id="startBtn" disabled onclick="startGame()">Start Game</button>

<button onclick="location.href='index.html'">Back</button>

<script>
  let chosenDifficulty = null;
  let chosenStarter = null;

  function selectDifficulty(diff) {
    chosenDifficulty = diff;

    // Clear previous selection
    document.querySelectorAll("#difficultySelect button")
      .forEach(btn => btn.classList.remove("selected"));

    // Highlight selected
    document.getElementById(diff + "Btn").classList.add("selected");

    updateStartButton();
  }

  function selectStarter(starter) {
    chosenStarter = starter;

    // Clear previous selection
    document.querySelectorAll("#starterSelect button")
      .forEach(btn => btn.classList.remove("selected"));

    // Highlight selected
    document.getElementById(starter + "Btn").classList.add("selected");

    updateStartButton();
  }

  function updateStartButton() {
    const btn = document.getElementById("startBtn");
    btn.disabled = !(chosenDifficulty && chosenStarter);
  }

  function startGame() {
    let starter = chosenStarter;

    if (starter === "random") {
      starter = Math.random() < 0.5 ? "player" : "computer";
    }

    location.href = `games/noughts.html?mode=ai&difficulty=${chosenDifficulty}&start=${starter}`;
  }
</script>
